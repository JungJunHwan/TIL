# 퍼즐 게임 챌린지 [PCCP 기출문제]

https://school.programmers.co.kr/learn/courses/30/lessons/340212?language=java

## 알고리즘

- 이 문제는 처음엔 완전탐색으로 해결하려 했으나 최대 실행 횟수가 300,000 * 100,000으로 시간초과가 발생했다
- 따라서 이분 탐색을 적용했다.
- level의 범위는 `diffs[i]`와 같이 최소를 1, 최소를 100,000으로 설정했다.
- `level = (min + max) / 2`로 설정하고 isAvailable 함수를 통해 해당 `level`로 퍼즐을 풀 수 있는지를 구했다
- 그 후, 만약 가능하다면 `max = level`로 설정해 다음의 `level`이 더 작은 값을 가질 수 있도록 했고, 불가능 하다면 `min = level + 1`로 설정해 다음의 `level`이 더 큰 값을 가질 수 있도록 했다
- 주의할 점은 `limit`의 타입이 `long`이라는 점인데, 이 때문에 `total`도 `long`으로 설정해두어야 한다

## 전체 코드

### 이분 탐색 (성공)

```java
class Solution {
    public int solution(int[] diffs, int[] times, long limit) {
        int min = 1;
        int max = 100000;
        
        while(min < max) {
            int level = (min + max) / 2;
            
            if(isAvailable(diffs, times, level, limit)) { // 풀 수 있다면
                max = level;
            }
            else { // 풀 수 없다면
                min = level + 1;
            }
        }
        
        return max;
    }
    
    public boolean isAvailable(int[] diffs, int[] times, int level, long limit) {
        long total = 0; // 타입 주의
        
        for(int i = 0; i < diffs.length; i++) {
            if(diffs[i] <= level) {
                total += times[i];
            }
            else {
                total += (diffs[i] - level) * (times[i-1] + times[i]) + times[i];
            }

            if(total > limit) return false;
        }
        
        return true;
    }
}
```

### 완전 탐색 (실패)

```java
class Solution {
    public int solution(int[] diffs, int[] times, long limit) {
        boolean searching = true;
        int level = 0;
        
        long total = 0;
        
        loop:
        while(searching){
            total = times[0];
            level++;
            for(int i = 1; i < diffs.length; i++) {
                if(diffs[i] <= level) {
                    total += times[i];
                }
                else {
                    total += (diffs[i] - level) * (times[i-1] + times[i]) + times[i];
                }
                
                if(total > limit) continue loop;
            }
            searching = false;
        }
        
        return level;
    }
}
```