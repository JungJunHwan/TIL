# 7장 스프링 삼각형과 설정 정보

## POJO (Plain Old Java Object)

특정 프레임워크나 기술에 종속되지 않고 자바의 기본 사용만 지킨 순수한 객체
<br>
개발자가 가장 순수한 자바 객체(POJO)로 비즈니스 로직을 짜면, 스프링이 IoC/DI, AOP, PSA 같은 기술을 사용해 그 POJO에 기능을 덧붙인다

### IoC/DI(Inversion of Control / Dependency Injection)

- 정의
    - 객체의 생성과 관리를 개발자가 아닌 프레임워크가 대신한다
- 개념
    - IoC (제어의 역전)
        - 프로그램의 흐름(객체의 생성, 생명주기 관리)을 개발자가 직접 제어하는 것이 아니라, 스프링 컨테이너(외부)에 위임하는 것
    - DI (의존성 주입)
        - IoC를 실제로 구현하는 방법
        - 객체가 필요한 의존성(다른 객체)을 직접 생성(`new`)하는 것이 아니라, 외부(컨테이너)에서 생성된 객체를 주입받아 사용하는 방식
- 장점 : 결합도는 낮추고, 유연성은 높인다
    - 테스트 용이성
        - 객체가 의존 대상을 직접 생성하지 않고 주입받기 때문에, 테스트할 때 실제 DB나 복잡한 객체 대신 가짜 객체(Mock Object)를 주입하여 테스트하기 쉽다
    - 유연한 변경
        - A라는 부품을 B라는 부품으로 교체할 때, 코드를 뜯어고칠 필요 없이 설정만 바꾸면 된다
    - 가독성 향상
        - 객체 생성과 관계 설정 코드가 비즈니스 로직에서 사라지므로, 코드가 훨씬 간결해진다

### AOP (Aspect-Oriented Programming)

- 정의
    - 핵심 비즈니스 로직과 공통 기능을 분리한다
- 개념
    - 애플리케이션 전반에 걸쳐 공통적으로 사용되는 기능(로깅, 보안, 트랜잭션 등)을 횡단 관심사 (Cross-cutting Concerns)라고 한다
    - AOP는 이러한 공통 기능을 핵심 비즈니스 로직에서 분리하여 별도의 모듈로 관리하고, 실행 시점에 비즈니스 로직 앞뒤로 끼워 넣는 프로그래임 기법
- 장점 : 응집도를 높이고, 중복을 제거한다 (핵심 로직과 부가 기능을 분리했을 때 오는 이점)
    - 중복 코드 제거
        - 모든 메소드에 `System.out.println()`, `transaction.begin()` 같은 코드를 일일이 적을 필요 없이 한 곳에서 관리하므로 코드가 줄어든다
    - 비즈니스 로직 집중
        - 개발자는 핵심 비즈니스 로직만 작성하면 된다
        - 코드를 읽을 때 로그인지, 보안 체크인지, 실제 기능인지 헷갈릴 필요가 없다
    - 유지보수성 향상
        - 보안 정책이 바뀌거나 로그 포맷을 바꿔야 한다면, AOP 설정 파일(또는 클래스)만 수정하면 애플리케이션 전체에 적용된다

### PSA (Portable Service Abstraction)

- 정의
    - 환경과 기술이 바뀌어도 코드는 변하지 않는다
- 개념
    - 환경의 변화나 사용하는 기술의 종류와 관계없이 일관된 방식(인터페이스)으로 기술을 사용할 수 있게 해주는 추상화 구조
- 장점 : 기술에 종속되지 않는 일관성을 제공한다
    - 기술 독립성
        - DB 접근 기수을 바꾸거나, WAS를 바꾸더라도 비즈니스 로직은 거의 수정할 필요가 없다
    - 러닝 커브 감소
        - 새로운 기술이 나와도 스프링이 추상화해 둔 인터페이스 사용법만 알면, 내부 원리를 당장 모르더라도 기술을 바로 적용하고 사용할 수 있다